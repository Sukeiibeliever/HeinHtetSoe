<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Login - Bean Boutique Coffee Shop</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/icon?family=Material+Icons"
      rel="stylesheet"
    />
    <link href="./css/main.css" rel="stylesheet" type="text/css" />
  </head>
  <body>
    <header role="banner" aria-label="Main Navigation">
      <a
        href="dashboard.html"
        class="logo"
        aria-label="Bean Boutique Coffee Shop home"
      >
        Bean Boutique Coffee Shop</a
      >
    </header>

    <main class="index-main">
      <div class="login-card">
        <h1 class="login-title">Welcome Back</h1>

        <p class="status-message" id="status-message"></p>

        <form class="login-form" id="login-form">
          <div class="input-group">
            <label for="email">Email Address</label>
            <input
              type="email"
              id="email"
              required
              autocomplete="email"
              placeholder="your@email.com"
            />
          </div>

          <div class="input-group">
            <label for="password">Password</label>
            <div class="password-wrapper">
              <input
                type="password"
                id="password"
                required
                minlength="8"
                autocomplete="current-password"
                placeholder="Enter your password"
              />
              <button
                type="button"
                class="password-toggle"
                aria-label="Toggle password visibility"
              >
                <span class="material-icons">visibility</span>
              </button>
            </div>
          </div>

          <button type="submit" class="login-btn">Login</button>
        </form>

        <div class="login-footer">
          <p>
            Don't have an account?
            <a href="register.html" tabindex="0">Sign up</a>
          </p>
          <p>
            <a href="forgot-password.html" tabindex="0">Forgot password?</a>
          </p>
        </div>
      </div>
    </main>

    <footer role="contentinfo" aria-label="Footer with social media links">
      <nav class="social-links" aria-label="Social media">
        <a
          href="https://facebook.com"
          target="_blank"
          rel="noopener"
          aria-label="Facebook social media link"
          tabindex="0"
        >
          <img
            src="https://upload.wikimedia.org/wikipedia/commons/thumb/0/05/Facebook_Logo_%282019%29.png/1024px-Facebook_Logo_%282019%29.png"
            alt="Facebook"
            loading="lazy"
          />
        </a>
        <a
          href="https://instagram.com"
          target="_blank"
          rel="noopener"
          aria-label="Instagram social media link"
          tabindex="0"
        >
          <img
            src="https://upload.wikimedia.org/wikipedia/commons/thumb/e/e7/Instagram_logo_2016.svg/132px-Instagram_logo_2016.svg.png"
            alt="Instagram"
            loading="lazy"
          />
        </a>
        <a
          href="https://twitter.com"
          target="_blank"
          rel="noopener"
          aria-label="Twitter social media link"
          tabindex="0"
        >
          <img
            src="https://upload.wikimedia.org/wikipedia/commons/thumb/6/6f/Logo_of_Twitter.svg/512px-Logo_of_Twitter.svg.png"
            alt="Twitter"
            loading="lazy"
          />
        </a>
        <a
          href="https://youtube.com"
          target="_blank"
          rel="noopener"
          aria-label="YouTube social media link"
          tabindex="0"
        >
          <img
            src="https://upload.wikimedia.org/wikipedia/commons/thumb/0/09/YouTube_full-color_icon_%282017%29.svg/2560px-YouTube_full-color_icon_%282017%29.svg.png"
            alt="YouTube"
            loading="lazy"
          />
        </a>
      </nav>
    </footer>

    <script>
      // Password visibility toggle
      const passwordInput = document.getElementById("password");
      const toggleButton = document.querySelector(".password-toggle");
      const statusMessage = document.getElementById("status-message");
      const loginForm = document.getElementById("login-form");

      toggleButton.addEventListener("click", () => {
        if (passwordInput.type === "password") {
          passwordInput.type = "text";
          toggleButton.innerHTML =
            '<span class="material-icons">visibility_off</span>';
          toggleButton.setAttribute("aria-label", "Hide password");
        } else {
          passwordInput.type = "password";
          toggleButton.innerHTML =
            '<span class="material-icons">visibility</span>';
          toggleButton.setAttribute("aria-label", "Show password");
        }
      });

      // Form submission
      loginForm.addEventListener("submit", (e) => {
        e.preventDefault();
        statusMessage.textContent = "Signing in...";
        statusMessage.className = "status-message";

        setTimeout(() => {
          const email = document.getElementById("email").value.trim().toLowerCase();
          const password = passwordInput.value;
          let users = JSON.parse(localStorage.getItem('users') || '[]');
          const user = users.find(u => u.email === email && u.password === password);
          if (user) {
            statusMessage.textContent = "Login successful! Redirecting...";
            statusMessage.className = "status-message success";
            // Save session (for demo)
            localStorage.setItem('currentUser', JSON.stringify(user));
            setTimeout(() => {
              window.location.href = 'dashboard.html';
            }, 1000);
          } else {
            statusMessage.textContent =
              "Invalid email or password. Please try again.";
            statusMessage.className = "status-message error";
          }
        }, 1000);
      });
    </script>
  </body>
</html>
