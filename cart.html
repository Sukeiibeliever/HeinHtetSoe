<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Shopping Cart - Bean Boutique Coffee Shop</title>
  <link
    href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap"
    rel="stylesheet"
  />
  <link
    href="https://fonts.googleapis.com/icon?family=Material+Icons"
    rel="stylesheet"
  />
  <link href="./css/main.css" rel="stylesheet" type="text/css">
</head>
<body>
  <header role="banner" aria-label="Main Navigation">
    <a href="dashboard.html" class="logo" aria-label="Bean Boutique Coffee Shop home">Bean Boutique Coffee Shop</a>
    <button id="menu-toggle" aria-label="Toggle navigation menu" type="button" style="display: none; position: absolute; right: 16px; top: 12px; width: 40px; height: 40px; background-color: #8b5cf6; color: white; border: none; border-radius: 4px; font-size: 24px; cursor: pointer; z-index: 1002;">&#9776;</button>
    <!-- Mobile-only menu button that's always visible on small screens -->
    <div id="mobile-menu-btn" class="mobile-menu-button" style="position: absolute; right: 16px; top: 12px; width: 40px; height: 40px; background-color: #8b5cf6; color: white; border-radius: 4px; font-size: 24px; cursor: pointer; z-index: 1003; text-align: center; line-height: 40px;">&#9776;</div>
    <nav class="navbar" role="navigation" aria-label="Primary navigation">
      <a href="dashboard.html" tabindex="0">Home</a>
      <a href="menu.html" tabindex="0">Menu</a>
       <a href="equipment.html" tabindex="0" aria-current="page">Brewing Equipment</a>
      <a href="about.html" tabindex="0">About</a>
      <a href="contact.html" tabindex="0">Contact</a>
       <a href="specialoffer.html"  tabindex="0" aria-current="page">Special Offers & Subscription</a>
      <a href="cart.html" class="active" tabindex="0" aria-current="page">Shopping Cart</a>
    
    </nav>
  </header>

  <main class="cart-main">
    <h1 class="page-title">Shopping Cart</h1>
    <table aria-label="Shopping cart items" id="cart-table">
      <thead>
        <tr>
          <th scope="col">Item</th>
          <th scope="col">Name</th>
          <th scope="col">Price</th>
          <th scope="col">Quantity</th>
          <th scope="col">Subtotal</th>
          <th scope="col">Remove</th>
        </tr>
      </thead>
      <tbody id="cart-items">
        <!-- Cart items injected by JS -->
      </tbody>
    </table>
    <p class="empty-cart" id="empty-cart-message" hidden>Your cart is empty.</p>
    <p class="cart-total" aria-live="polite" id="cart-total">Total: $0.00</p>
    <button class="checkout-btn" id="checkout-btn" disabled aria-disabled="true" aria-label="Proceed to checkout">Proceed to Checkout</button>
  </main>

  <footer role="contentinfo" aria-label="Footer with social media links">
    <nav class="social-links" aria-label="Social media">
      <a href="https://facebook.com" target="_blank" rel="noopener" aria-label="Facebook social media link" tabindex="0">
        <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/0/05/Facebook_Logo_%282019%29.png/1024px-Facebook_Logo_%282019%29.png" alt="Facebook" loading="lazy">
      </a>
      <a href="https://instagram.com" target="_blank" rel="noopener" aria-label="Instagram social media link" tabindex="0">
        <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/e/e7/Instagram_logo_2016.svg/132px-Instagram_logo_2016.svg.png" alt="Instagram" loading="lazy">
      </a>
      <a href="https://twitter.com" target="_blank" rel="noopener" aria-label="Twitter social media link" tabindex="0">
        <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/6/6f/Logo_of_Twitter.svg/512px-Logo_of_Twitter.svg.png" alt="Twitter" loading="lazy">
      </a>
      <a href="https://youtube.com" target="_blank" rel="noopener" aria-label="YouTube social media link" tabindex="0">
        <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/0/09/YouTube_full-color_icon_%282017%29.svg/2560px-YouTube_full-color_icon_%282017%29.svg.png" alt="YouTube" loading="lazy">
      </a>
    </nav>
  </footer>

  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script>
  // Immediate execution to ensure menu toggle is visible and functional
  document.addEventListener('DOMContentLoaded', function() {
    var menuToggle = document.getElementById('menu-toggle');
    var mobileMenuButton = document.getElementById('mobile-menu-btn');
    var navbar = document.querySelector('.navbar');
    
    // Add click event to mobile menu button
    if (mobileMenuButton) {
      mobileMenuButton.addEventListener('click', function(e) {
        e.preventDefault();
        navbar.classList.toggle('active');
        console.log('Mobile menu button clicked');
      });
      
      // Add touch event for mobile devices
      mobileMenuButton.addEventListener('touchstart', function(e) {
        e.preventDefault();
        navbar.classList.toggle('active');
        console.log('Mobile menu button touched');
      }, {passive: false});
      
      console.log('Mobile menu button event handlers added');
    }
    
    function updateMenuVisibility() {
      if (window.innerWidth <= 767) {
        if (mobileMenuButton) {
          mobileMenuButton.style.display = 'block';
          console.log('Mobile menu button set to display:block');
        }
      } else {
        if (mobileMenuButton) {
          mobileMenuButton.style.display = 'none';
        }
      }
    }
    
    // Run on page load
    updateMenuVisibility();
    
    // Run on window resize
    window.addEventListener('resize', updateMenuVisibility);
  });
  </script>
  <script>
    const cartItemsEl = document.getElementById('cart-items');
    const cartTotalEl = document.getElementById('cart-total');
    const emptyCartMessage = document.getElementById('empty-cart-message');
    const checkoutBtn = document.getElementById('checkout-btn');

    function formatPrice(val) {
      return '$' + val.toFixed(2);
    }

    function renderCart() {
      // Get cart data from localStorage
      const cart = JSON.parse(localStorage.getItem('cart')) || [];
      
      cartItemsEl.innerHTML = '';
      if (cart.length === 0) {
        emptyCartMessage.hidden = false;
        cartTotalEl.textContent = 'Total: $0.00';
        checkoutBtn.disabled = true;
        checkoutBtn.setAttribute('aria-disabled', 'true');
        return;
      }
      emptyCartMessage.hidden = true;
      let total = 0;
      cart.forEach((item, index) => {
        const subtotal = item.price * item.qty;
        total += subtotal;

        const tr = document.createElement('tr');

        // Item image cell
        const tdImg = document.createElement('td');
        tdImg.setAttribute('data-label', 'Item');
        const img = document.createElement('img');
        img.src = item.img;
        img.alt = item.name + ' image';
        img.className = 'cart-img';
        img.loading = 'lazy';
        tdImg.appendChild(img);
        tr.appendChild(tdImg);

        // Name cell
        const tdName = document.createElement('td');
        tdName.setAttribute('data-label', 'Name');
        tdName.textContent = item.name;
        tr.appendChild(tdName);

        // Price cell
        const tdPrice = document.createElement('td');
        tdPrice.setAttribute('data-label', 'Price');
        tdPrice.textContent = formatPrice(item.price);
        tr.appendChild(tdPrice);

        // Quantity control cell
        const tdQty = document.createElement('td');
        tdQty.setAttribute('data-label', 'Quantity');
        const qtyDiv = document.createElement('div');
        qtyDiv.className = 'quantity-control';

        const btnDec = document.createElement('button');
        btnDec.className = 'quantity-btn';
        btnDec.setAttribute('aria-label', `Decrease quantity of ${item.name}`);
        btnDec.innerHTML = '−';
        btnDec.type = 'button';
        btnDec.addEventListener('click', () => {
          if (item.qty > 1) {
            // Update quantity in localStorage
            cart[index].qty--;
            localStorage.setItem('cart', JSON.stringify(cart));
            renderCart();
          }
        });

        const qtyVal = document.createElement('span');
        qtyVal.className = 'quantity-value';
        qtyVal.textContent = item.qty;

        const btnInc = document.createElement('button');
        btnInc.className = 'quantity-btn';
        btnInc.setAttribute('aria-label', `Increase quantity of ${item.name}`);
        btnInc.innerHTML = '+';
        btnInc.type = 'button';
        btnInc.addEventListener('click', () => {
          // Update quantity in localStorage
          cart[index].qty++;
          localStorage.setItem('cart', JSON.stringify(cart));
          renderCart();
        });

        qtyDiv.appendChild(btnDec);
        qtyDiv.appendChild(qtyVal);
        qtyDiv.appendChild(btnInc);
        tdQty.appendChild(qtyDiv);
        tr.appendChild(tdQty);

        // Subtotal cell
        const tdSubtotal = document.createElement('td');
        tdSubtotal.setAttribute('data-label', 'Subtotal');
        tdSubtotal.textContent = formatPrice(subtotal);
        tdSubtotal.className = 'subtotal';
        tdSubtotal.setAttribute('data-price', subtotal);
        tr.appendChild(tdSubtotal);

        // Remove button cell
        const tdRemove = document.createElement('td');
        tdRemove.setAttribute('data-label', 'Remove');
        const removeBtn = document.createElement('button');
        removeBtn.className = 'remove-btn';
        removeBtn.setAttribute('aria-label', `Remove ${item.name} from cart`);
        removeBtn.innerHTML = '×';
        removeBtn.addEventListener('click', function() {
          // Remove item from cart in localStorage
          cart.splice(index, 1);
          localStorage.setItem('cart', JSON.stringify(cart));
          renderCart();
        });
        tdRemove.appendChild(removeBtn);
        tr.appendChild(tdRemove);

        cartItemsEl.appendChild(tr);
      });
      cartTotalEl.textContent = 'Total: ' + formatPrice(total);
      checkoutBtn.disabled = false;
      checkoutBtn.removeAttribute('aria-disabled');
    }

    checkoutBtn.addEventListener('click', () => {
      alert('Thank you for your order! Your items will be prepared shortly.');
      // Clear cart after checkout
      localStorage.setItem('cart', JSON.stringify([]));
      renderCart();
    });

    // Initial render when page loads
    document.addEventListener('DOMContentLoaded', function() {
      renderCart();
    });
  </script>
</body>
</html>

