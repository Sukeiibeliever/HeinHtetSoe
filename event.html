<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Event - Bean Boutique Coffee Shop</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/icon?family=Material+Icons"
      rel="stylesheet"
    />
    <link href="./css/main.css" rel="stylesheet" type="text/css" />
    <link rel="stylesheet" href="./css/event.css" />
  </head>
  <body>
    <header role="banner" aria-label="Main Navigation">
      <a href="#" class="logo" aria-label="Bean Boutique Coffee Shop home"
        >Bean Boutique Coffee Shop</a
      >
      <button
        id="menu-toggle"
        aria-label="Toggle navigation menu"
        type="button"
        style="
          display: none;
          position: absolute;
          right: 16px;
          top: 12px;
          width: 40px;
          height: 40px;
          background-color: #8b5cf6;
          color: white;
          border: none;
          border-radius: 4px;
          font-size: 24px;
          cursor: pointer;
          z-index: 1002;
        "
      >
        &#9776;
      </button>
      <!-- Mobile-only menu button that's always visible on small screens -->
      <div
        id="mobile-menu-btn"
        class="mobile-menu-button"
        style="
          position: absolute;
          right: 16px;
          top: 12px;
          width: 40px;
          height: 40px;
          background-color: #8b5cf6;
          color: white;
          border-radius: 4px;
          font-size: 24px;
          cursor: pointer;
          z-index: 1003;
          text-align: center;
          line-height: 40px;
        "
      >
        &#9776;
      </div>
      <nav class="navbar" role="navigation" aria-label="Primary navigation">
        <a href="dashboard.html" tabindex="0">Home</a>
        <a href="menu.html" tabindex="0">Menu</a>
        <a href="equipment.html" class="active" tabindex="0" aria-current="page"
          >Brewing Equipment</a
        >
        <a href="about.html" tabindex="0">About</a>
        <a href="contact.html" tabindex="0">Contact</a>
        <a
          href="specialoffer.html"
          class="active"
          tabindex="0"
          aria-current="page"
          >Special Offers & Subscription</a
        >
        <a href="cart.html" class="active" tabindex="0" aria-current="page"
          >Shopping Cart</a
        >
      </nav>
    </header>
    <section class="events-section">
      <div class="container">
        <h2 class="section-title">Upcoming Events</h2>
        <p class="section-subtitle">
          Join us for special occasions and live performances
        </p>

        <div class="events-grid">
          <!-- Event 1 -->
          <div class="event-card">
            <div class="event-date">
              <span class="date-day">15</span>
              <span class="date-month">JUN</span>
            </div>
            <div class="event-info">
              <h3 class="event-title">Live Jazz Night</h3>
              <div class="event-meta">
                <span class="event-time"
                  ><i class="fas fa-clock"></i> 7:00 PM - 10:00 PM</span
                >
                <span class="event-price"
                  ><i class="fas fa-tag"></i> $10 cover</span
                >
              </div>
              <p class="event-desc">
                Enjoy an evening of smooth jazz with local trio "The Brew
                Notes".
              </p>
              <button
                class="btn event-btn reserve-btn"
                data-event="Live Jazz Night"
                data-date="June 15"
                data-time="7:00 PM"
              >
                Join
              </button>
            </div>
          </div>

          <!-- Event 2 -->
          <div class="event-card">
            <div class="event-date">
              <span class="date-day">22</span>
              <span class="date-month">JUN</span>
            </div>
            <div class="event-info">
              <h3 class="event-title">Latte Art Workshop</h3>
              <div class="event-meta">
                <span class="event-time"
                  ><i class="fas fa-clock"></i> 2:00 PM - 4:00 PM</span
                >
                <span class="event-price"
                  ><i class="fas fa-tag"></i> $25 per person</span
                >
              </div>
              <p class="event-desc">
                Learn the secrets of beautiful latte art from our master
                barista.
              </p>
              <button
                class="btn event-btn reserve-btn"
                data-event="Live Jazz Night"
                data-date="June 15"
                data-time="7:00 PM"
              >
                Join
              </button>
            </div>
          </div>

          <!-- Event 3 -->
          <div class="event-card">
            <div class="event-date">
              <span class="date-day">30</span>
              <span class="date-month">JUN</span>
            </div>
            <div class="event-info">
              <h3 class="event-title">Poetry Reading</h3>
              <div class="event-meta">
                <span class="event-time"
                  ><i class="fas fa-clock"></i> 6:30 PM - 8:30 PM</span
                >
                <span class="event-price"
                  ><i class="fas fa-tag"></i> Free entry</span
                >
              </div>
              <p class="event-desc">
                Local poets share their work in our intimate backroom space.
              </p>
              <button
                class="btn event-btn reserve-btn"
                data-event="Live Jazz Night"
                data-date="June 15"
                data-time="7:00 PM"
              >
                Join
              </button>
            </div>
          </div>
        </div>

        <div class="view-all">
          <a href="#" class="view-all-link"
            >View All Events <i class="fas fa-arrow-right"></i
          ></a>
        </div>
      </div>
    </section>
    <!-- Registration Form (initially hidden) -->
    <div class="register-modal" id="registerModal">
      <div class="register-modal-content">
        <span class="register-close-btn" id="registerCloseBtn">&times;</span>
        <h3 class="register-title">Reserve Your Table</h3>
        <p class="register-subtitle">
          For: <strong>Live Jazz Night</strong> on June 15 at 7:00 PM
        </p>

        <form id="registerForm" class="register-form">
          <div class="register-form-group">
            <label for="registerName" class="register-label">Full Name</label>
            <input
              type="text"
              id="registerName"
              class="register-input"
              name="name"
              required
              placeholder="Your name"
            />
          </div>

          <div class="register-form-group">
            <label for="registerEmail" class="register-label"
              >Email Address</label
            >
            <input
              type="email"
              id="registerEmail"
              class="register-input"
              name="email"
              required
              placeholder="your@email.com"
            />
          </div>

          <div class="register-form-group">
            <label for="registerGuests" class="register-label"
              >Number of Guests</label
            >
            <select id="registerGuests" class="register-select" name="guests">
              <option value="1">1 person</option>
              <option value="2">2 people</option>
              <option value="3">3 people</option>
              <option value="4">4 people</option>
              <option value="5">5+ people</option>
            </select>
          </div>

          <button type="submit" class="register-submit-btn">
            Confirm Reservation
          </button>
        </form>
      </div>
    </div>

    <footer role="contentinfo" aria-label="Footer with social media links">
      <nav class="social-links" aria-label="Social media">
        <a
          href="https://facebook.com"
          target="_blank"
          rel="noopener"
          aria-label="Facebook social media link"
          tabindex="0"
        >
          <img
            src="https://upload.wikimedia.org/wikipedia/commons/thumb/0/05/Facebook_Logo_%282019%29.png/1024px-Facebook_Logo_%282019%29.png"
            alt="Facebook"
            loading="lazy"
          />
        </a>
        <a
          href="https://instagram.com"
          target="_blank"
          rel="noopener"
          aria-label="Instagram social media link"
          tabindex="0"
        >
          <img
            src="https://upload.wikimedia.org/wikipedia/commons/thumb/e/e7/Instagram_logo_2016.svg/132px-Instagram_logo_2016.svg.png"
            alt="Instagram"
            loading="lazy"
          />
        </a>
        <a
          href="https://twitter.com"
          target="_blank"
          rel="noopener"
          aria-label="Twitter social media link"
          tabindex="0"
        >
          <img
            src="https://upload.wikimedia.org/wikipedia/commons/thumb/6/6f/Logo_of_Twitter.svg/512px-Logo_of_Twitter.svg.png"
            alt="Twitter"
            loading="lazy"
          />
        </a>
        <a
          href="https://youtube.com"
          target="_blank"
          rel="noopener"
          aria-label="YouTube social media link"
          tabindex="0"
        >
          <img
            src="https://upload.wikimedia.org/wikipedia/commons/thumb/0/09/YouTube_full-color_icon_%282017%29.svg/2560px-YouTube_full-color_icon_%282017%29.svg.png"
            alt="YouTube"
            loading="lazy"
          />
        </a>
      </nav>
    </footer>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        // Get all reserve buttons
        const reserveBtns = document.querySelectorAll(".reserve-btn");
        const registerModal = document.getElementById("registerModal");
        const closeBtn = document.getElementById("registerCloseBtn");
        const registerForm = document.getElementById("registerForm");
        const modalSubtitle = document.querySelector(".register-subtitle");
        const body = document.body;
        const originalFormHTML = registerForm.innerHTML;

        // Show modal
        function showModal(eventName, eventDate, eventTime) {
          modalSubtitle.innerHTML = `For: <strong>${eventName}</strong> on ${eventDate} at ${eventTime}`;
          registerModal.style.display = "flex";
          body.style.overflow = "hidden";
          document.getElementById("registerName").focus();
        }

        // Hide modal
        function hideModal() {
          registerModal.style.display = "none";
          body.style.overflow = "auto";
        }

        // Form validation
        function validateForm(data) {
          const errors = [];
          if (!data.name.trim()) errors.push("Name is required");
          if (!data.email.trim()) errors.push("Email is required");
          else if (!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(data.email)) {
            errors.push("Please enter a valid email address");
          }
          return errors;
        }

        // Show success message
        function showSuccessMessage(name, guests, email) {
          registerForm.innerHTML = `
      <div class="success-message">
        <h3>Thank you, ${name}!</h3>
        <p>Your reservation for ${guests} guest(s) has been received.</p>
        <p>Confirmation will be sent to ${email}</p>
        <button class="register-submit-btn" id="closeSuccessBtn">OK</button>
      </div>
    `;

          document
            .getElementById("closeSuccessBtn")
            .addEventListener("click", function () {
              hideModal();
              registerForm.innerHTML = originalFormHTML;
              setupForm(); // rebind
            });
        }

        // Form submission
        function handleSubmit(e) {
          e.preventDefault();

          const formData = {
            name: document.getElementById("registerName").value,
            email: document.getElementById("registerEmail").value,
            guests: document.getElementById("registerGuests").value,
          };

          const errors = validateForm(formData);
          if (errors.length > 0) {
            alert("Please fix the following:\n" + errors.join("\n"));
            return;
          }

          const submitBtn = registerForm.querySelector(".register-submit-btn");
          const originalText = submitBtn.textContent;
          submitBtn.disabled = true;
          submitBtn.textContent = "Processing...";

          setTimeout(() => {
            try {
              console.log("Submitted:", formData);
              showSuccessMessage(
                formData.name,
                formData.guests,
                formData.email
              );
            } catch (err) {
              alert("Something went wrong. Please try again.");
            } finally {
              submitBtn.disabled = false;
              submitBtn.textContent = originalText;
            }
          }, 1500);
        }

        // Setup form submit
        function setupForm() {
          document
            .getElementById("registerForm")
            .addEventListener("submit", handleSubmit);
        }

        // Attach click listeners to each reserve button
        reserveBtns.forEach((btn) => {
          btn.addEventListener("click", () => {
            const eventName = btn.getAttribute("data-event");
            const eventDate = btn.getAttribute("data-date");
            const eventTime = btn.getAttribute("data-time");
            showModal(eventName, eventDate, eventTime);
          });
        });

        // Close modal logic
        closeBtn.addEventListener("click", hideModal);
        registerModal.addEventListener("click", function (e) {
          if (e.target === registerModal) hideModal();
        });

        setupForm();
      });
    </script>
  </body>
</html>
